"use strict";(self["webpackChunkwangyiyun_demo"]=self["webpackChunkwangyiyun_demo"]||[]).push([[711],{8800:function(s,a,i){i.r(a),i.d(a,{default:function(){return fs}});var n=i(6768);const t={class:"itemMusic"};function e(s,a,i,e,c,l){const o=(0,n.g2)("ItemMusicTop"),u=(0,n.g2)("ItemMusicList");return(0,n.uX)(),(0,n.CE)("div",t,[(0,n.bF)(o,{playList:e.state.playList},null,8,["playList"]),(0,n.bF)(u,{songs:e.state.songs},null,8,["songs"])])}var c=i(1387),l=i(144),o=i(8131),u=i(4232);const r=s=>((0,n.Qi)("data-v-ab4523a4"),s=s(),(0,n.jt)(),s),d={class:"itemMusicTop"},v=["src"],L={class:"navTop"},k={class:"left"},p=r((()=>(0,n.Lk)("use",{"xlink:href":"#icon-zuojiantou"},null,-1))),g=[p],h=r((()=>(0,n.Lk)("span",null,"歌单",-1))),f=(0,n.Fv)('<div class="right" data-v-ab4523a4><svg class="icon" aria-hidden="true" data-v-ab4523a4><use xlink:href="#icon-sousuo" data-v-ab4523a4></use></svg><svg class="icon" aria-hidden="true" data-v-ab4523a4><use xlink:href="#icon-gengduo1" data-v-ab4523a4></use></svg></div>',1),y={class:"navMiddle"},m={class:"contentLeft"},C=["src"],x={class:"palyCount"},b=r((()=>(0,n.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,n.Lk)("use",{"xlink:href":"#icon-bofang2"})],-1))),I={class:"contentRight"},_={class:"title"},E={class:"message"},X=["src"],M={class:"nickname"},F={class:"tags"},P=r((()=>(0,n.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,n.Lk)("use",{"xlink:href":"#icon-arrowright"})],-1))),w={class:"description"},j=r((()=>(0,n.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,n.Lk)("use",{"xlink:href":"#icon-youjiantou"})],-1))),D={class:"navBottom"},K={class:"item"},N=r((()=>(0,n.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,n.Lk)("use",{"xlink:href":"#icon-zhuanfa"})],-1))),Q={class:"item"},S=r((()=>(0,n.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,n.Lk)("use",{"xlink:href":"#icon-xinxi"})],-1))),T={class:"item"},z=r((()=>(0,n.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,n.Lk)("use",{"xlink:href":"#icon-folder-add"})],-1)));function A(s,a,i,t,e,c){return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("img",{src:i.playList.coverImgUrl,alt:"",class:"bgImg"},null,8,v),(0,n.Lk)("div",L,[(0,n.Lk)("div",k,[((0,n.uX)(),(0,n.CE)("svg",{class:"icon","aria-hidden":"true",onClick:a[0]||(a[0]=a=>s.$router.go(-1))},g)),h]),f]),(0,n.Lk)("div",y,[(0,n.Lk)("div",m,[(0,n.Lk)("img",{src:i.playList.coverImgUrl,alt:""},null,8,C),(0,n.Lk)("div",x,[b,(0,n.Lk)("span",null,(0,u.v_)(t.changeCount(i.playList.playCount)),1)])]),(0,n.Lk)("div",I,[(0,n.Lk)("div",_,(0,u.v_)(i.playList.name),1),(0,n.Lk)("div",E,[(0,n.Lk)("img",{src:i.playList.creator.avatarUrl,alt:"",class:"avatar"},null,8,X),(0,n.Lk)("span",M,(0,u.v_)(i.playList.creator.nickname),1)]),(0,n.Lk)("div",F,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.playList.tags,((s,a)=>((0,n.uX)(),(0,n.CE)("span",{key:a,class:"box"},[(0,n.Lk)("span",null,(0,u.v_)(s),1),P])))),128))])])]),(0,n.Lk)("div",w,[(0,n.Lk)("span",null,(0,u.v_)(i.playList.description),1),j]),(0,n.Lk)("div",D,[(0,n.Lk)("div",K,[N,(0,n.Lk)("span",null,(0,u.v_)(t.changeCount(i.playList.shareCount)),1)]),(0,n.Lk)("div",Q,[S,(0,n.Lk)("span",null,(0,u.v_)(t.changeCount(i.playList.commentCount)),1)]),(0,n.Lk)("div",T,[z,(0,n.Lk)("span",null,(0,u.v_)(t.changeCount(i.playList.subscribedCount)),1)])])])}var U={props:["playList"],setup(s){function a(s){return s>=1e8?(s/1e8).toFixed(1)+"亿":s>=1e4?(s/1e4).toFixed(1)+"万":s}return(s.playList.creator="")&&(s.playList.creator=JSON.parse(sessionStorage.getItem().playList).creator),{changeCount:a}}},q=i(1241);const J=(0,q.A)(U,[["render",A],["__scopeId","data-v-ab4523a4"]]);var O=J;const V=s=>((0,n.Qi)("data-v-cf1e85fc"),s=s(),(0,n.jt)(),s),$={class:"itemMusicList"},B={class:"top"},R={class:"topleft"},W=V((()=>(0,n.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,n.Lk)("use",{"xlink:href":"#icon-bofang"})],-1))),Y=V((()=>(0,n.Lk)("span",null,"播放全部",-1))),G={class:"count"},H=(0,n.Fv)('<div class="topright" data-v-cf1e85fc><svg class="icon" aria-hidden="true" data-v-cf1e85fc><use xlink:href="#icon-xiazai" data-v-cf1e85fc></use></svg><svg class="icon" aria-hidden="true" data-v-cf1e85fc><use xlink:href="#icon-duoxuan" data-v-cf1e85fc></use></svg></div>',1),Z={class:"itemList"},ss=["onClick"],as={class:"number"},is={class:"songDetail"},ns={class:"songName"},ts={class:"songIntro"},es={key:0},cs={class:"itemright"},ls={class:"icon","aria-hidden":"true"},os={key:0,"xlink:href":"#icon-mv1"},us=V((()=>(0,n.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,n.Lk)("use",{"xlink:href":"#icon-gengduo1"})],-1)));function rs(s,a,i,t,e,c){return(0,n.uX)(),(0,n.CE)("div",$,[(0,n.Lk)("div",B,[(0,n.Lk)("div",R,[W,Y,(0,n.Lk)("span",G,"("+(0,u.v_)(i.songs.length)+")",1)]),H]),(0,n.Lk)("div",Z,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.songs,((s,a)=>((0,n.uX)(),(0,n.CE)("div",{key:s.id,class:"item"},[(0,n.Lk)("div",{class:"itemleft",onClick:i=>c.playMusic(s,a)},[(0,n.Lk)("span",as,(0,u.v_)(a+1),1),(0,n.Lk)("div",is,[(0,n.Lk)("div",ns,(0,u.v_)(s.name),1),(0,n.Lk)("span",ts,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.ar,((a,i)=>((0,n.uX)(),(0,n.CE)("span",{key:i},[(0,n.eW)((0,u.v_)(a.name)+" ",1),s.ar.length>1&&i!==s.ar.length-1?((0,n.uX)(),(0,n.CE)("span",es," / ")):(0,n.Q3)("",!0)])))),128))])])],8,ss),(0,n.Lk)("div",cs,[((0,n.uX)(),(0,n.CE)("svg",ls,[0!=s.mv?((0,n.uX)(),(0,n.CE)("use",os)):(0,n.Q3)("",!0)])),us])])))),128))])])}var ds=i(782),vs=i(1508),Ls={setup(s){},props:["songs"],methods:{playMusic:async function(s,a){this.updateDuration(s.dt);try{this.updatePlayList(this.songs),this.updatePlayListIndex(a)}catch(i){console.error("获取音乐播放信息失败:",i),(0,vs.P0)("获取音乐播放信息失败"),this.updatePlayListIndex(a+1)}},...(0,ds.PY)(["updatePlayList","updatePlayListIndex","updateDuration"])}};const ks=(0,q.A)(Ls,[["render",rs],["__scopeId","data-v-cf1e85fc"]]);var ps=ks,gs={setup(){const s=(0,l.Kh)({playList:{},songs:[]}),a=(0,n.nI)().appContext.config.globalProperties;return(0,n.sV)((async()=>{let i=(0,c.lq)().query.id,n=await(0,o.Ve)(i);s.playList=n.data.playlist;let t=await(0,o.a0)(i);s.songs=t.data.songs,sessionStorage.setItem("itemDetail",JSON.stringify(s)),a.$store.commit("updateMusicListName",s.playList.name)})),{state:s}},components:{ItemMusicTop:O,ItemMusicList:ps}};const hs=(0,q.A)(gs,[["render",e]]);var fs=hs}}]);
//# sourceMappingURL=ItemMusic.f238d7f1.js.map